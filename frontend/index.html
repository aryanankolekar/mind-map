<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Map My Syllabus</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header
      style="
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.2rem;
      "
    >
      <div
        class="header-pill-card"
        style="
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
        "
      >
        <img
          src="assets/favicon.ico"
          alt="favicon"
          style="
            width: 32px;
            height: 32px;
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
          "
        />
        <h1 style="margin: 0; text-align: center; width: 100%">
          Map My Syllabus
        </h1>
        <div
          class="profile-pic-wrapper"
          style="
            position: absolute;
            right: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 11;
          "
        >
          <img
            src="assets/profile.png"
            alt="profile"
            id="profile-pic"
            style="
              width: 40px;
              height: 40px;
              border-radius: 50%;
              object-fit: cover;
            "
          />
        </div>
      </div>
    </header>

    <!-- Profile Menu (moved outside header for proper stacking) -->
    <div
      id="profile-menu"
      class="profile-menu"
      style="display: none;"
    >
      <div class="profile-menu-content">
        <div class="profile-name">John Doe</div>
        <div class="profile-extra">john.doe@email.com</div>
        <button class="profile-signout">Sign out</button>
      </div>
    </div>
      </div>
    </header>

    <!-- Upload Card -->
    <section class="content minimal-upload-card" style="margin-bottom: 1.2rem">
      <div
        class="upload-card-row"
        style="
          display: flex;
          align-items: center;
          gap: 0.7rem;
          justify-content: center;
        "
      >
        <div class="onoff-toggle" id="onoffToggle" onclick="toggleUploadMode()">
          <div class="onoff-slider" id="onoffSlider"></div>
          <span class="onoff-label file-label" id="fileLabel">File</span>
          <span class="onoff-label link-label" id="linkLabel">Link</span>
        </div>
        <input
          type="file"
          id="fileInput"
          class="upload-input"
          style="display: block"
        />
        <input
          type="text"
          id="linkInput"
          class="upload-input"
          placeholder="Paste link here (YouTube, PDF, etc)"
          style="display: none"
        />
        <button class="upload-btn" onclick="addResource()">Add Resource</button>
      </div>
    </section>

    <section class="controls-card content" style="margin-top: 1.5rem">
      <div
        class="controls-row"
        style="
          display: flex;
          align-items: center;
          gap: 0.7rem;
          justify-content: center;
        "
      >
        <select
          id="topicSelector"
          onchange="loadTopic()"
          class="controls-select"
        >
          <option disabled selected>Select a topic</option>
        </select>
        <button class="controls-btn" onclick="toggleSection('summary')">
          Summary
        </button>
        <button class="controls-btn" onclick="toggleSection('explain')">
          Deep Explain
        </button>
        <button class="controls-btn" onclick="toggleSection('quiz')">
          Quiz
        </button>
        <button class="controls-btn" onclick="toggleSection('graph')">
          Graph
        </button>
      </div>
      <div id="collapsibleContainer">
        <div id="summarySection" class="collapsible-section">
          <div class="collapsible-section-inner">
            <h2 id="topicTitle">No topic selected</h2>
            <p id="topicSummary">
              Select a topic from above to see the summary and notes.
            </p>
            <ul id="keyPoints"></ul>
          </div>
        </div>
        <div id="explainSection" class="collapsible-section">
          <div class="collapsible-section-inner">
            <h2>Deep Explain</h2>
            <p>(Detailed explanation coming soon!)</p>
          </div>
        </div>
        <div id="quizSection" class="collapsible-section">
          <div class="collapsible-section-inner">
            <h2>Quiz Mode</h2>
            <p>(Coming soon!)</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Second Brain Sections -->
    <section class="second-brain">
      <!-- Quick Capture -->
      <div
        class="quick-capture content"
        style="position: relative; min-height: 180px; padding: 0"
      >
        <textarea
          placeholder="Jot down an idea, thought, or to-do..."
          style="
            width: 100%;
            height: 100%;
            min-height: 120px;
            resize: none;
            box-sizing: border-box;
            border-radius: 32px;
            border: none;
            outline: none;
            padding: 1.1rem 1.2rem;
            margin: 0;
            background: transparent;
          "
        ></textarea>
        <button
          style="
            position: absolute;
            bottom: 1.1rem;
            right: 1.2rem;
            margin: 0;
            z-index: 2;
            border-radius: 999px;
            min-width: 80px;
            min-height: 36px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
          "
        >
          Save
        </button>
      </div>
      <!-- Resource Finder Card (now above graph card) -->
      <section class="content resource-finder-card" style="margin: 2.5rem auto 0 auto; max-width: 38vw; min-width: 320px; border-radius: 32px;">
        <form id="resourceFinderForm" style="display: flex; gap: 1.2rem; align-items: center; width: 100%;">
          <input type="text" id="resourceQuery" class="upload-input" placeholder="Search uploaded files..." style="flex: 1 1 auto; min-width: 0;" />
          <button type="submit" class="upload-btn" style="flex: 0 0 180px; max-width: 180px; min-width: 140px;">Find Resources</button>
        </form>
        <div id="resourceResults" style="margin-top: 1.2rem; color: #222; min-height: 2.5em;"></div>
      </section>
      <!-- Graph Interaction Card -->
      <section class="graph-card content" style="position: relative">
        <div
          id="graph-container"
          style="
            width: 100%;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
          "
        >
          <button
            id="fullscreen-btn"
            class="fullscreen-btn"
            title="Fullscreen"
            style="position: absolute; top: 1.2rem; right: 1.5rem; z-index: 2"
          >
            ⛶
          </button>
          Graph visualization will appear here.
        </div>
      </section>
    </section>

    <script src="script.js"></script>
    <footer class="site-footer-card">
      <span class="footer-copyright"
        >© 2025 Aryan Ankolekar. All rights reserved.</span
      >
      <a
        class="footer-github"
        href="https://github.com/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span class="footer-icon-svg github-icon" aria-label="GitHub">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path
              d="M12 2C6.48 2 2 6.58 2 12.26c0 4.49 2.87 8.3 6.84 9.64.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.62-3.37-1.36-3.37-1.36-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.62.07-.62 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.75-.1-.26-.45-1.3.1-2.7 0 0 .84-.28 2.75 1.05A9.38 9.38 0 0 1 12 6.84c.85.004 1.71.12 2.51.35 1.91-1.33 2.75-1.05 2.75-1.05.55 1.4.2 2.44.1 2.7.64.72 1.03 1.63 1.03 2.75 0 3.94-2.34 4.81-4.57 5.07.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.8 0 .26.18.57.69.48A10.01 10.01 0 0 0 22 12.26C22 6.58 17.52 2 12 2z"
            />
          </svg>
        </span>
        GitHub
      </a>
      <a
        class="footer-twitter"
        href="https://twitter.com/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span class="footer-icon-svg twitter-icon" aria-label="Twitter">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
            <path
              d="M22.46 5.92c-.8.36-1.67.6-2.58.71a4.48 4.48 0 0 0 1.97-2.48 8.94 8.94 0 0 1-2.83 1.1A4.48 4.48 0 0 0 12 9.03c0 .35.04.7.11 1.03-3.73-.19-7.04-2-9.25-4.74a4.48 4.48 0 0 0-.6 2.25c0 1.55.77 2.92 1.95 3.72-.72-.02-1.4-.22-1.99-.55v.06c0 2.17 1.54 3.98 3.58 4.39-.37.1-.76.16-1.16.16-.28 0-.55-.03-.81-.08.55 1.74 2.16 3.01 4.07 3.05A8.98 8.98 0 0 1 2 19.54a12.7 12.7 0 0 0 6.88 2.02c8.26 0 12.78-7.01 12.78-13.09 0-.2 0-.39-.01-.58.88-.65 1.64-1.47 2.24-2.4z"
            />
          </svg>
        </span>
        Twitter
      </a>
    </footer>
  </body>
</html>
